/* ROOT */
.wbplanview {
  --b1: #fff;
  --b2: #ddd;
  --b3: #bbb;
  --b4: #999;
  --t1: #000;
  --t2: #222;
  --t3: #444;
  --t4: #666;
  --border: #ccc;
  --menu-size: 119px;
  --white-space: 0.5rem;
  --text1: #000;
  --text2: #666;
  --background1: #fff;
  --background2: #fdb;
  --accent: #f73;
  --success: #2c0;
  --error: #f24;
  --lines-to-display: 8;
  --border-size: 1px;
  --original-height: unset;

  width: 100%;
  display: flex;
  flex-direction: column;
  row-gap: 1rem;
  height: calc(100vh - var(--menu-size) - 30px);
}

.wbplanview-event-listener {
  display: contents;
}

/* HEADER */
.wbplanview-header {
  display: flex;
  justify-content: space-between;
}

.wbplanview-header > div {
  display: flex;
  column-gap: var(--white-space);
  align-items: center;
}

.wbplanview-readonly-badge {
  color: var(--error);
  font-weight: 700;
}

.validation-indicator-success {
  position: relative;
}

.validation-indicator-success:after {
  background: #0f0;
  content: 'Validated!';
  position: absolute;
  left: 0;
  right: 0;
  animation: validated-success ease-in-out 0.2s;
}

@keyframes validated-success {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* CONTAINER */
.wbplanview-container {
  flex: 1;
  overflow: hidden;
}

/* BASE TABLE SELECTION STATE */
.wbplanview-container-BaseTableSelectionState {
  display: flex;
  flex-direction: column;
  row-gap: calc(var(--white-space) * 2);
}

.custom-select-base-table-selection-list {
  flex: 1;
}

.custom-select-base-table-selection-list .custom-select-options {
  max-height: unset;
  height: unset;
  border: none;
}

.custom-select-base-table-selection-list
  .custom-select-option-relationship-icon {
  display: none;
}

/* MAPPING STATE */
.wbplanview-container-MappingState {
  display: flex;
  flex-direction: column;
  row-gap: 1rem;
}

/* MAPPING VIEW */
.mapping-view-container {
  display: flex;
  flex-wrap: nowrap;
  column-gap: calc(4 * var(--white-space));
  height: 100%;
  width: max-content;
}

.mapping-view-parent {
  --min-height: 250px;

  min-height: var(--min-height);
  overflow-x: auto;
  max-height: 50vh;
  height: var(--original-height);
  resize: vertical;
  position: relative;
}

.mapping-view-parent::after {
  content: 'â‡²';
  position: absolute;
  right: 0;
  bottom: 0;
  font-size: calc(var(--white-space) * 2);
  pointer-events: none;
}

.mapping-view {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
}

.mapping-view .custom-select {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.mapping-view .custom-select:last-of-type {
  display: flex;
  flex-direction: column;
}

.mapping-view .custom-select-options {
  max-height: unset;
  height: 100%;
}

.wbplanview-mapping-view-map-button {
  font-size: calc(2 * var(--white-space));
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.wbplanview-mapping-view-map-button-arrow {
  color: var(--success);
}

.wbplanview-mapping-view-map-button[disabled]
  .wbplanview-mapping-view-map-button-arrow {
  opacity: 0;
}

.mapping-view-resizer {
  margin-bottom: calc(var(--white-space) * -1);
  height: var(--white-space);
  cursor: pointer;
  border: 1px solid var(--b2);
  border-left: 0;
  border-right: 0;
  box-sizing: border-box;
}

.mapping-view-resizer:hover {
  border-color: var(--b4);
}

/* VALIDATION RESULTS */
.validation-results {
  display: flex;
  flex-direction: column;
  row-gap: var(--white-space);
  overflow-y: scroll;
  max-width: 30vw;
}

.validation-results .wbplanview-mapping-line-elements:not(:last-child) {
  border-bottom: 1px solid var(--border);
}

.validation-results .custom-select {
  margin-bottom: 0.4rem;
}

/* MAPPING LINE */
.mapping-line-list {
  flex: 1;
  display: grid;
  grid-template-columns: max-content auto;
  grid-auto-rows: max-content;
  overflow-x: hidden;
}

.wbplanview-mapping-line {
  display: contents;
}

.wbplanview-mapping-line > * {
  border-top: 1px solid var(--border);
  padding: calc(var(--white-space) * 0.8) 0;
}

.wbplanview-mapping-line > *:not(:first-child) {
  padding-left: 0.6rem;
}

.wbplanview-mapping-line-focused > .wbplanview-mapping-line-elements {
  background: var(--b2);
}

/* MAPPINGS LINE ELEMENTS */
.wbplanview-mapping-line-header {
  display: flex;
  align-items: center;
}

.wbplanview-mapping-line-elements {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  row-gap: 0.6rem;
}

.wbplanview-mapping-line-divider {
  font-size: calc(1.5 * var(--white-space));
  text-align: center;
  padding: 0 var(--white-space);
}

/* CUSTOM SELECT ELEMENT */
.custom-select {
  color: var(--text1);
  display: grid;
  grid-template-areas:
    'header'
    'options';
  grid-template-columns: 1fr;
  grid-template-rows: auto 1fr;
  height: calc(4 * var(--white-space) + 2px);
  position: relative;
}

.custom-select-suggestion-list:not(.controlled) {
  position: absolute;
  bottom: calc(4 * var(--white-space));
}

.custom-select-suggestion-list.controlled {
  position: fixed;
  height: auto;
  z-index: 10;
}

.custom-select-closed-list .custom-select-options,
.custom-select-closed-list .custom-select-suggestion-list {
  box-shadow: 0 0 calc(0.5 * var(--white-space)) calc(0.5 * var(--white-space))
    var(--border);
}

.custom-select-closed-list .custom-select-options {
  clip-path: inset(
    0 calc(-1 * var(--white-space)) calc(-1 * var(--white-space))
      calc(-1 * var(--white-space))
  );
}

.custom-select-closed-list .custom-select-suggestion-list {
  clip-path: inset(
    calc(-1 * var(--white-space)) calc(-1 * var(--white-space)) 0
      calc(-1 * var(--white-space))
  );
}

.custom-select-mapping-options-list {
  padding-left: var(--white-space);
}

.custom-select-mapping-option-line-list {
  height: unset;
}

.custom-select-header,
.custom-select-input {
  grid-area: header;
  border: var(--border-size) solid var(--accent);
  background-color: var(--background1);
}

.custom-select-header {
  padding: calc(var(--white-space) * 2);
  display: flex;
  row-gap: var(--white-space);
  column-gap: var(--white-space);
}

.custom-select-input {
  cursor: pointer;
  border-color: var(--text1);
}

.wbplanview-mapping-line-header-unmapped .custom-select-input {
  border-color: var(--error);
}

.custom-select-preview-list .custom-select-input,
.wbplanview-readonly .custom-select-input {
  cursor: initial;
}

.custom-select-suggestion-line-list .custom-select-input {
  grid-template-columns: calc(var(--white-space) * 2) 1fr;
}

.custom-select-mapping-options-list .custom-select-icon {
  display: none;
}

.custom-select-mapping-options-list .custom-select-input-label {
  font-size: calc(var(--white-space) * 2.8);
  margin-bottom: 3px;
}

.custom-select-input-label,
.custom-select-option-label {
  flex: 1;
}

.wbplanview-mapping-line-header-unmapped .wbplanview-mapping-line-header,
.custom-select-label-unmapped {
  color: var(--error);
  font-weight: 800;
}

.custom-select-element-shadow-list {
  margin-top: calc(var(--white-space) * -2);
  padding-right: calc(calc(var(--white-space) * 7) + 7px);
  visibility: hidden;
  display: flex;
  flex-direction: column;
}

.custom-select-element-shadow-list span {
  line-height: 0;
  padding: 0;
}

.custom-select-input,
.custom-select-option {
  padding: 0 var(--white-space);
  min-height: calc(4 * var(--white-space));
  display: grid;
  grid-template-columns: calc(var(--white-space) * 2.2) 1fr var(--white-space);
  grid-column-gap: calc(var(--white-space) / 2);
  align-items: center;
}

.custom-select-mapping-options-list .custom-select-input {
  display: flex;
}

.custom-select-input:hover::after {
  color: var(--text2);
}

.custom-select-options,
.custom-select-suggestion-list:not(.controlled) {
  height: -moz-fit-content;
  height: fit-content;
}

.custom-select-options {
  overflow-y: scroll;
  max-height: calc(calc(4 * var(--white-space)) * var(--lines-to-display));
  border: var(--border-size) solid var(--accent);
  background-color: var(--background1);
  z-index: 2;
  width: auto;
  min-width: max-content;
  cursor: pointer;
}

.wbplanview-readonly .custom-select-options {
  cursor: initial;
}

.custom-select-options:not(:first-child) {
  border-top: 0;
}

.custom-select-options::-webkit-scrollbar {
  width: 5px !important;
  background: var(--b1);
}

.custom-select-options::-webkit-scrollbar-thumb {
  background: var(--b3);
}

.custom-select-group {
  background-color: var(--background1);
  display: flex;
  flex-direction: column;
}

.custom-select-group-optional-fields {
  --background1: #fff;
  --background2: #fdb;
  --accent: #f73;
}

.custom-select-group-required-fields {
  --background1: #dff;
  --background2: #cff;
  --accent: #3ef;
}

.custom-select-input-required {
  background: #cff;
}

.custom-select-group-hidden-fields {
  --background1: #ccc;
  --background2: #aaa;
  --accent: #666;
}

.custom-select-input-hidden {
  background: #aaa;
}

.custom-select-group-suggested-mappings {
  --background1: #dfd;
  --background2: #bfc;
  --accent: #9f9;
}

.custom-select-group-label {
  background-color: var(--background2);
  padding: calc(0.5 * var(--white-space));
  color: var(--text2);
  cursor: initial;
}

.custom-select-option:hover,
.custom-select-option:focus {
  background-color: var(--background2);
}

.custom-select-suggestion-list .custom-select-option {
  display: inline;
  padding-left: var(--white-space);
}

.custom-select-mapping-option-line-list .custom-select-options {
  overflow: visible;
}

.custom-select-suggestion-list .custom-select-option-label {
  display: flex;
  align-items: center;
}

.custom-select-option-disabled,
.custom-select-option-selected {
  cursor: initial;
}

.custom-select-option-disabled {
  color: var(--text2);
  background-color: var(--background1) !important;
}

.custom-select-option-selected {
  background-color: var(--accent) !important;
}

.custom-select-icon {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

.custom-select-option-icon-undefined {
  margin: calc(var(--white-space) * 0.9) 0;
  border-radius: 3px;
}

.custom-select-icon-selected {
  color: var(--success);
  font-weight: 800;
}

.custom-select-icon-undefined {
  color: var(--error);
  margin-top: -0.1rem;
}

.custom-select-icon-table-undefined {
  color: var(--background1);
  border-radius: 3px;
}

.must-match-line {
  column-gap: 0.5rem;
  display: flex;
  align-items: center;
}

.must-match-line span {
  width: 1rem;
  height: 1rem;
}
