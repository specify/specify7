@import url('../node_modules/handsontable/dist/handsontable.full.css');

/* Show table icons in column headers */
.htCore thead th > .relative {
  @apply flex justify-center items-center;
}

.htCore .colHeader {
  @apply !contents;
}

.handsontable .columnSorting {
  line-height: 20px;
}

/* Sorting direction */
.handsontable .columnSorting::before {
  @apply order-2 !static pr-1 !mt-1 !bg-center;
}

/* Sorting priority index */
.handsontable .columnSorting::after {
  @apply order-2 !static !mt-2 -ml-2;
}

/* Highlighted cells' headers */
.handsontable tbody th.ht__highlight,
.handsontable thead th.ht__highlight {
  @apply bg-blue-400;
}

/* Picklists */
.handsontable td .htAutocompleteArrow {
  @apply text-black dark:text-white cursor-pointer;
}

.handsontable td .htAutocompleteArrow:hover {
  @apply text-gray-500;
}

/* CONTENT styles */
.wbs-form.wb-show-upload-results .wb-no-match-cell,
.wbs-form.wb-focus-coordinates .wb-coordinate-cell {
  @apply text-black dark:text-white;
}

.handsontable .htDimmed {
  @apply bg-gray-200 dark:bg-neutral-800;
}

/* Cell navigation */

.wbs-form .wb-no-match-cell,
.wbs-form .wb-modified-cell,
.wbs-form .wb-invalid-cell,
.wbs-form .wb-search-match-cell,
.wb-navigation-section {
  @apply bg-[color:var(--accent-color)];
}

/* The order here determines the priority of the states
 * From the lowest till the highest */
.wbs-form:not(.wb-hide-new-cells) .wb-no-match-cell,
.wb-navigation-section[data-navigation-type='newCells'] {
  --accent-color: var(--new-cell);
}

.wbs-form:not(.wb-hide-invalid-cells) .wb-invalid-cell,
.wb-navigation-section[data-navigation-type='invalidCells'] {
  --accent-color: var(--invalid-cell);
}

.wbs-form:not(.wb-hide-modified-cells) .wb-modified-cell,
.wb-navigation-section[data-navigation-type='modifiedCells'] {
  --accent-color: var(--modified-cell);
}

.wbs-form:not(.wb-hide-search-results) .wb-search-match-cell,
.wb-navigation-section[data-navigation-type='searchResults'] {
  --accent-color: var(--search-result);
}

/* Handsontable dark mode */
.handsontable td,
.htContextMenu table tbody tr td {
  @apply dark:bg-neutral-800 dark:border-neutral-500;
}

.htContextMenu table tbody tr td {
  @apply dark:text-white
}

.htContextMenu td.highlight,
.handsontable.listbox tr td.current,
.handsontable.listbox tr:hover td {
  @apply dark:!bg-neutral-600;
}

.handsontable td.htCustomMenuRenderer,
.htContextMenu td.htDisabled:hover {
  @apply dark:!bg-neutral-800;
}

.handsontable th {
  @apply dark:bg-neutral-900 dark:text-white dark:!border-neutral-800;
}

.handsontable tr:first-child td {
  @apply dark:!border-t-neutral-600;
}

.handsontable td:first-of-type {
  @apply dark:!border-l-neutral-600;
}

.htContextMenu table.htCore,
.htContextMenu td.htSeparator {
  @apply dark:!border-neutral-500;
}

.htCommentTextArea {
  @apply dark:text-white cursor-auto dark:border-none dark:bg-neutral-800;
}

.htCommentCell:after {
  @apply dark:!border-t-white;
}

.handsontableInput {
  @apply bg-neutral-600 text-white;
}